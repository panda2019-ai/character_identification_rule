# character_identification_rule

基于规则和相似度的角色识别系统

## 2019年10月21日

### 1. 将《QQ群聊》数据转换为Emory角色识别系统数据格式

- 整个数据作为1个季的数据

### 2. “@用户名”在聊天语料中使用频繁程度

- 首先通过规则过滤出“@用户名”照应语
- 然后统计“@用户名”在聊天语料中使用频繁程度
- “@用户名”在《QQ群聊》数据中出现频率为609/10706=5%

### 3. 代词在聊天语料中使用频繁程度

- 统计“你”、“我”、“他”、“她”、“你们”、“我们”、“他们”、“他们”、“她们”在聊天语料中使用的频繁程度。
- 代词在《QQ群聊》数据中出现频率为1934/10706=18%
- 同时含有“@用户名”和“你”或“你们”的发言占比为88/609=14%
- 同时含有“@用户名”和“我”或“我们”的发言占比为94/609=15%
- 同时含有“@用户名”和“他”或“他们”的发言占比为9/609=1%
- 同时含有“@用户名”和“她”或“她们”的发言占比为1/609=0.1%

### 4. 结论

- 从“@用户名”与代词的共现占比，可以看出共现主要集中在“@用户名”和“我”或“我们”与“@用户名”和“你”或“你们”，
- 通过观察语料，我们发现同时含有“@用户名”和“你”或“你们”的疑问发言，针对该句的回答往往出现在该发言的前后不远处，且问与答的表达方式具有成对特性。也就是说问句有区别于上下文的独特表达，回答也具有区别于上下文的独特表达。
- 举例如下：

```
问：你啥时候去[表情]
答：我随时都可以

问：这位同学你知道吗在奥运村这边班车在哪里停
答：我之前坐都是在那停

问：看下是不是你想要的
答：谢谢了 这个已经有了

问：你分词插件怎么配置的
答：[图片]

问：你多大岁数
答：22

问：你是自学还是老师教的
答：自学的

问：你就用了默认参数啥子都不调？
答：是啊

问：你好，有没有本书数据可供下载的地址？
答：你看访问这个链接，代码及数据在每章中http://www.feiguyunai.com/index.php/2017/09/01/deeppracticespark/

问：你要用models做目标检测吗？
答：没有 下载的demo用到models

问：你们学的什么课
答：网易吴恩达的深度学习呀

问：你改过没有的
答：没有

问：所以你是哪个专业
答：[表情]当然是科学史

问：为什么感觉你也是师姐[表情]
答：我……不是[表情]

问：你是厦门人呀
答：我本科在厦门，从厦门回北京真的是历经千山万水[图片]

问：你是从心里所拉东西？
答：不是，我从昌平区[表情]

问：你们研二不涨吗
答：陈 不一定哦，要看老板给不给涨。所里把发工资的权利下放到各个课题组了
```

综上，针对“@用户名”的指代消解归结为以下几个问题：

- “@用户名”的识别
- 第2人称代词的识别
- 问句的识别
- 问答句配对预测

## 2019年10月22日

### 1. 用问号作为疑问句标志

```
问：你好，能请问下你之前是从哪爬的词库吗？
问：你就用了默认参数啥子都不调？
问：你好，有没有本书数据可供下载的地址？
问：你是从心里所拉东西？
问：敢问你叫啥？
```

- 上边的几个疑问句都不是是非问句，说明在口语中，很少使用是非问句。
- 但是句末的问号确实是问句的一个有效特征。
- 该特征所能识别出的问句比例5/88=5%

### 2. 用“吗”、“呢”、“吧”作为疑问句标志

```
问：叮——请查收猜明星题库增补包@我说“猜明星”，一眼认出自家爱豆的会是你吗
问：你再试试标准化呢
问：你发得截图不是说不用sklearn得归一化，自己写吗
问：你们地质的应该也会经常出差，去山里应该会碰到吧
问：你想找从心理所的吗
问：你们应该又自己的群吧
问：你在三楼吗
问：老哥你有啥事吗
```

- “吗”、“呢”、“吧”结尾的疑问句，“@用户名”基本出现在句首。
- 该特征所能识别出的问句比例8/88=9%

### 3. 用选择问句标志词“还是”作为疑问句标志

```
陈述：我觉得对于你，还是不要去绕到深度学习的范畴去，如果你想快速实现的话。
问：你是自学还是老师教的
问：你可以换个地方试试能不能连别的无线网，看看是平板的问题还是无线网的问题
问：你是账号登录还是怎么弄呀？
问：你在东区还是西区
```

- 显然，用“还是”作为疑问句识别触发词时，其后不可以直接跟“不要”这个词。
- 该特征所能识别出的问句比例4/88=4%

### 4. 用特征问句疑问代词“谁”、“什么”、“哪儿”、“多少”、“怎么样”作为疑问句标志

```
问：好啊，看看你们谁的成语水平高咯，我说一个成语你们来接，首字要和我的尾字同音，但可以不同声调，最快答对+1分，我先来，【天朗气清】
问：你要什么PPT
问：你好，你看你有什么问题可以再提，再问一下哈
问：你们学的什么课
问：为什么感觉你也是师姐[表情]
陈述：我跟你应该很近，我也想找个车什么的
陈述：我记得之前联通好像也有校园卡活动..移动要是没了你可以办张新卡，选你想要的任意套餐。之前好像有人科普过，现在什么套餐都能换了。
问：你要做什么？
```

- 并不是含有“什么”的就是问句，什么前边的动词时有限制的
- 恐怕这个特征会引入最多的误识别疑问句
- 该特征所能识别出的问句比例6/88=6%

### 5. 反复问句固定搭配特征“去不去”、“有没有”、“看没看”、“远不远”、“来不来”、“贵不贵”等

- 并未在当前语料中找到相应示例，但不代表这种特征不能识别疑问句
- 我们可以利用问答语料和模板“V不V”或“V没（有）V”抽取出高频的固定搭配作为识别特征

### 6. 结论

- 加入我们设计的5条疑问句识别特征能将所有疑问句识别出来，则含有“@用户名”和代词“你”的发言中，有24%的发言为疑问句。
